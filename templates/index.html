{% extends "layout.html" %} {% block title %} Index {% endblock %} {% block main
%}
{% if hasdata %}
<div class="login-box box">
  <p class="h3">No data. Add some data.</p>
</div>
{% else %}
<script src="https://cdn.bokeh.org/bokeh/release/bokeh-2.2.3.min.js"
        crossorigin="anonymous"></script>
<script src="https://cdn.bokeh.org/bokeh/release/bokeh-widgets-2.2.3.min.js"
        crossorigin="anonymous"></script>
<script src="https://cdn.bokeh.org/bokeh/release/bokeh-tables-2.2.3.min.js"
        crossorigin="anonymous"></script>
<div class="container-fluid visual-cont">
  <div class="row justify-content-center">
    <div class="col-lg-4 col-12" style="max-width:400px;">
      <div class="row">
        <div class="adder" style="width:fit-content; margin:auto;">
          <a href="/add"><img src="/static/images/addsym.png"/></a>
        </div>
      </div>
      <div class="box row" style="margin: 10px auto; text-align: center;">
        <div class="col-12" style="text-align: center; margin: 10px 0;">
          <p class="h4">Sources of Carbon Footprint</p>
        </div>
        <div class="col-lg-7 col-12" style="max-height: 300px;">
        <svg xmlns="http://www.w3.org/2000/svg"
        width="100%" height="100%"
        viewBox="0 0 346 656" style="margin:auto;">
        <g style="width: 90%; margin:auto;">
        <rect id="#trans" width="100%" y="0" height="{{ ratftprint['Transport'][0] }}%" style="fill:#ef476f;">
        </rect>
        <rect id="#food" width="100%" y="{{ ratftprint['Transport'][0] }}%" height="{{ ratftprint['Food'][0] }}%" style="fill:#ffd166;"></rect>
        <rect id="#energy" width="100%" y="{{ ratftprint['Transport'][0]+ratftprint['Food'][0] }}%" height="{{ ratftprint['Energy'][0] }}%" style="fill:#83d483;"></rect>
        <rect id="#water" width="100%" y="{{ratftprint['Transport'][0]+ratftprint['Food'][0]+ratftprint['Energy'][0]}}%" height="{{ ratftprint['Water'][0] }}%" style="fill:#06d6a0;"></rect>
        <rect id="#housing" width="100%" y="{{ratftprint['Transport'][0]+ratftprint['Food'][0]+ratftprint['Energy'][0]+ratftprint['Water'][0]}}%" height="{{ ratftprint['Housing'][0] }}%" style="fill:#118ab2;"></rect>
        <rect id="#consume" width="100%" y="{{ratftprint['Transport'][0]+ratftprint['Food'][0]+ratftprint['Energy'][0]+ratftprint['Water'][0]+ratftprint['Housing'][0]}}%" height="{{ ratftprint['Consume'][0] }}%" style="fill:#073b4c;"></rect>
        <path id="Selection"
        fill="#00242e" stroke="" stroke-width=""
        d="M 0.00,0.00
           C 0.00,0.00 346.00,0.00 346.00,0.00
             346.00,0.00 346.00,656.00 346.00,656.00
             346.00,656.00 0.00,656.00 0.00,656.00
             0.00,656.00 0.00,0.00 0.00,0.00 Z
           M 85.00,3.30
           C 80.91,4.07 76.75,5.12 73.00,6.99
             56.50,15.24 49.08,34.41 49.00,52.00
             48.93,66.23 48.68,72.64 50.73,87.00
             50.73,87.00 53.40,103.00 53.40,103.00
             53.40,103.00 57.83,126.00 57.83,126.00
             58.72,135.15 56.82,143.23 54.63,152.00
             50.22,169.62 47.18,179.48 45.91,198.00
             45.91,198.00 45.18,205.00 45.18,205.00
             45.18,205.00 46.04,212.00 46.04,212.00
             46.04,212.00 46.04,221.00 46.04,221.00
             48.49,245.31 57.27,270.64 64.28,294.00
             69.96,312.94 74.85,334.44 77.73,354.00
             83.01,389.86 86.06,425.77 86.00,462.00
             86.00,462.00 85.00,474.00 85.00,474.00
             85.00,474.00 85.00,482.00 85.00,482.00
             85.00,482.00 80.84,520.00 80.84,520.00
             80.84,520.00 79.00,542.00 79.00,542.00
             79.00,542.00 79.00,567.00 79.00,567.00
             79.06,602.81 96.71,636.82 132.00,648.92
             146.06,653.75 155.54,653.17 170.00,653.00
             179.18,652.89 191.40,649.82 200.00,646.58
             209.15,643.12 215.18,639.79 223.00,633.87
             229.18,629.19 233.21,625.09 237.99,619.00
             266.34,582.82 257.51,541.17 258.00,499.00
             258.00,499.00 258.83,490.00 258.83,490.00
             261.98,457.52 271.08,426.70 278.35,395.00
             278.35,395.00 296.15,304.00 296.15,304.00
             300.79,287.06 312.92,262.66 314.84,248.00
             317.01,231.45 314.02,219.75 309.28,204.00
             306.23,193.86 302.13,183.74 302.00,173.00
             302.00,173.00 302.00,166.00 302.00,166.00
             302.07,150.91 308.83,134.75 304.23,120.00
             301.03,109.74 291.78,102.48 281.00,107.41
             270.87,112.04 265.63,125.37 266.10,136.00
             266.27,139.74 268.47,148.18 267.82,151.00
             266.78,155.53 261.34,158.60 257.39,155.40
             253.10,151.92 253.93,145.58 255.55,141.00
             260.13,128.00 266.81,121.92 267.00,106.00
             267.07,99.41 267.66,93.07 264.62,87.00
             259.31,76.39 243.65,70.35 234.21,79.34
             228.08,85.18 226.10,99.77 226.00,108.00
             226.00,108.00 227.12,123.96 227.12,123.96
             226.78,127.86 224.28,128.78 221.30,126.31
             214.43,120.61 217.28,110.08 219.67,103.00
             224.90,87.43 241.22,66.74 225.96,52.10
             216.24,42.79 199.39,43.94 192.36,56.00
             187.06,65.09 186.12,87.18 186.00,98.00
             185.96,101.42 185.55,106.98 183.84,109.96
             181.21,114.55 177.54,113.53 175.74,108.99
             172.98,102.02 177.34,86.14 179.42,79.00
             181.91,70.50 184.89,61.95 185.00,53.00
             185.09,45.03 185.37,37.83 180.36,31.02
             172.46,20.24 155.22,21.43 146.33,30.33
             139.41,37.24 137.01,49.59 137.00,59.00
             137.00,59.00 137.00,64.00 137.00,64.00
             137.00,64.00 140.00,97.00 140.00,97.00
             139.99,99.71 140.02,102.38 139.20,105.00
             137.88,109.19 133.17,115.54 128.22,112.22
             123.73,109.21 123.95,101.76 124.00,97.00
             124.16,83.00 133.97,69.97 134.00,48.00
             134.00,48.00 134.00,41.00 134.00,41.00
             133.65,11.73 111.34,0.68 85.00,3.30 Z" />
        </svg>
        </g>
        </div>
        <div class="col-lg-5 col-md-3 col-12" style="font-size: 10px; margin:auto;">
          <table style="min-width:100px; max-width: 200px; margin:auto;">
          {% for ftprint in ratftprint %}
          <tr>
          <td style="width:10%; background-color:{{ratftprint[ftprint][1]}}; padding:10px 0;"></td><td style="width: 90%;">{{ftprint}} - {{ratftprint[ftprint][0]}}%</td>
          </tr>
          {% endfor %}
          </table>
        </div>
      </div>
    </div>
    <div class="col-lg-5 col-md-7 col-sm-8 col-12" style="padding:0;">
      <div class="box row" style="margin:10px 0 !important;">
        <div class="col-12" style="text-align: center; margin:0;">
          <p class="h4">Total Carbon Emissions</p>
          <p class="h1">{{total_emm}}</p>
          <p>kgs of CO<sub>2</sub></p>
        </div>
      </div>
      <div class="box row" style="margin:10px 0 !important;">
        {% for part in plot %}
            {{part | safe}}
        {% endfor %}
      </div>
    </div>
  </div>
</div> 
{% endif %}
<script src="/static/assets/js/bokeh.min.js"></script>
    <script src="/static/assets/js/bokeh-widgets.min.js"></script>
    <script src="/static/assets/js/bokeh-tables.min.js"></script>
</html>
{% endblock %}
